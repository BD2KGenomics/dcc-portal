<div data-ng-if="isActive" class="t_current">
    <ul>
        <li>
            <button type="button" class="t_button t_current__remove_all" data-ng-click="Facets.removeAll()">
                <i class="icon-undo"></i>
            </button>
            <share-button></share-button>
        </li>
        <li data-ng-repeat="(typeName, type) in filters">
            <ul>
                <li data-ng-repeat="(facet, terms) in type track by facet" class="t_facets__facet">

                    <span class="t_facets__facet__label"
                          data-ng-mouseenter="hoverStyle={'text-decoration':'line-through'}; $event.stopPropagation();"
                          data-ng-mouseleave="hoverStyle={}; $event.stopPropagation()" 
                          data-ng-click="removeFacet(typeName, facet)" 
                          data-ng-switch="facet">
                        <span data-ng-switch-when="id">{{typeName | trans:true}}</span>
                        <span data-ng-switch-when="pathwayId">Pathway</span>
                        <span data-ng-switch-when="location">{{typeName | trans:true}} location</span>
                        <span data-ng-switch-default="">{{facet | trans:true}}</span>
                    </span>

                    <strong class="t_current__or"> IN (</strong>
                    <ul class="t_facets__facet__terms" data-ng-init="expandTerms=false">
                        <li data-ng-repeat="termObj in terms.is | limitTo:(expandTerms===true? 999: 2) track by termObj.term" 
                            class="t_facets__facet__terms__term">
                            <span class="t_facets__facet__terms__active__term__label"
                                  data-ng-style="hoverStyle"
                                  data-ng-click="Facets.removeTerm({type: termObj.controlType, facet: termObj.controlFacet, term: termObj.controlTerm})"
                                  data-tooltip="{{ termObj.term | trans | define:true }}">{{termObj.term | trans:true}}</span>
                        </li>
                        <li data-ng-show="terms.is.length > 2">
                            <a href=""><span data-ng-click="expandTerms=!expandTerms">
                                <i class="{{expandTerms?'icon-caret-left':''}}"></i> {{ expandTerms? 'less':'...'}}
                            </span></a> 
                        </li>
                    </ul> 
                    <strong class="t_current__or">)</strong>
                    <span data-ng-if="!$last" class="t_current__and"> AND </span>
                </li>
            </ul>
            <span data-ng-if="!$last" class="t_current__and"> AND </span>
        </li>
    </ul>
</div>
